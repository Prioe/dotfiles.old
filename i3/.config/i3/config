##
## Variables
##
## Mod-keys ##
set $alt Mod1

font pango:Droid Sans 9

##
##Autostart
##

exec feh --bg-scale $HOME/wallpapers/wallpaper.jpg
exec compton --config $HOME/.config/compton.conf -b
exec discord-canary
exec unclutter

##
##Navigation
##

# change focus
bindsym $alt+h focus left
bindsym $alt+j focus down
bindsym $alt+k focus up
bindsym $alt+l focus right

# move focused window
bindsym $alt+Shift+h move left
bindsym $alt+Shift+j move down
bindsym $alt+Shift+k move up
bindsym $alt+Shift+l move right

#split window
bindsym $alt+u split v
bindsym $alt+i split h
bindsym $alt+o fullscreen toggle

#Use Mouse+$alt to drag floating windows to their wanted position
floating_modifier $alt

# toggle tiling / floating
bindsym $alt+f floating toggle

# change focus between tiling / floating windows
bindsym $alt+d focus mode_toggle

bindsym $alt+BackSpace reload
bindsym $alt+Shift+BackSpace exec "i3-nagbar -t warning -m 'Logout?' -b 'Yes' 'i3-msg No'"

# resize window (you can also use the mouse for that)
bindsym $alt+r mode "resize"
mode "resize" {
        bindsym l resize shrink width 10 px or 10 ppt
        bindsym j resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym h resize grow width 10 px or 10 ppt
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

# bind workspace switching
bindsym $alt+grave workspace $WL0
bindsym $alt+1 workspace $WS1
bindsym $alt+2 workspace $WS2
bindsym $alt+3 workspace $WS3
bindsym $alt+4 workspace $WS4
bindsym $alt+5 workspace $WS5
bindsym $alt+6 workspace $WS6
bindsym $alt+7 workspace $WS7
bindsym $alt+8 workspace $WS8
bindsym $alt+9 workspace $WS9
bindsym $alt+0 workspace $WS0


##
## Programs
##
bindsym Mod4+l exec --no-startup-id lock -f Roboto-Light -- scrot -z

bindsym $alt+t exec --no-startup-id termite --exec tmux
bindsym $alt+c exec --no-startup-id chromium
bindsym $alt+a exec --no-startup-id atom
bindsym $alt+n exec --no-startup-id chromium --app=https://www.netflix.com
bindsym $alt+y exec --no-startup-id chromium --app=https://www.youtube.de
bindsym $alt+Tab exec --no-startup-id rofi -show run
bindsym $alt+w kill
bindsym XF86MonBrightnessUp exec xbacklight -inc 10
bindsym XF86MonBrightnessDown exec xbacklight -dec 10

##
##Looks
##

# colors from X
set $darkred     #cc6666
set $red         #ff3334
set $darkgreen   #b5bd68
set $green       #9ec400
set $darkyellow  #de935f
set $yellow      #f0c674
set $darkblue    #81a2be
set $blue        #81a2be
set $darkmagenta #b294bb
set $magenta     #b777e0
set $darkcyan    #8abeb7
set $cyan        #54ced6
set $darkwhite   #969896
set $white       #c5c8c6

# set custom black colors
set $black       #282a2e
set $darkblack   #1d1f21
set $transparent #00000099
set $brightwhite #f9f9f9

# add special colors
set $brightslate #526b77
set $slate #455a64
set $darkslate #37474f
set $brightorange #e47c36
set $orange #b85334
set $darkorange #c42d29

#gaps
gaps inner 4
gaps outer 2

#border
new_window pixel 1

# class                   border  backgr. text    indicator
client.focused            #e47c36 #e47c36 #282828 #e47c36
client.focused_inactive   #b85334 #b85334 #232323
client.unfocused          #b85334 #b85334 #797979 #b85334
client.urgent             #c42d29 #c42d29 #eeeeee #c42d29

bar {
        i3bar_command i3bar -t
        status_command i3blocks -c $HOME/.config/i3blocks/config
        position top
        height 20
        workspace_buttons yes
        strip_workspace_numbers yes
        tray_padding 5
        tray_output primary
        font pango:MesloLGS Nerd Font 9
        colors {
             # <bar>
             separator           $brightorange
             background          $darkblack
             statusline          $white

             # <workclass>       <border>      <bg>     <text>
             focused_workspace   $darkblack   $brightslate $brightwhite
             inactive_workspace  $transparent $black       $white
             active_workspace    $darkblack   $darkwhite   $brightwhite
             urgent_workspace    $darkblack   $darkred     $brightwhite
             binding_mode        $darkblack   $darkmagenta $brightwhite
        }
}




# names / variables
set $WL0 0<span font='10' weight='light' underline='low'>3</span>
set $WS1 1:
set $WS2 2:
set $WS3 3:
set $WS4 4:
set $WS5 5:
set $WS6 6:
set $WS7 7:
set $WS8 8:
set $WS9 9:
set $WS0 10:


# Window title format {{{

for_window [class="(?i)"] title_format "<span weight='ultraheavy' foreground='$darkblack'>   </span><span weight='bold' >%title</span>"

# }}}

# Focus windows {{{

no_focus [window_role="pop-up"]
focus_on_window_activation focus
for_window [class="(?i)"] focus

# }}}

# Floating windows {{{

# window rules
for_window [title="GtkLP|Discord Updater"] floating enable
for_window [class="opsu\!|obs|Wacom_utility.py|Grub-customizer|mpv|feh|Pavucontrol"] floating enable
for_window [title="gcal-calm_termite"] floating enable, resize grow up 170px, resize grow down 170px, resize grow left 280, resize grow right 280

# modifier
floating_modifier $alt

# window sizes
floating_minimum_size -1 x -1
floating_maximum_size 1340 x 742
#floating_maximum_size -1 x -1

# Move windows to workspaces

assign [class="discord"] $WS0
assign [title="mutt_termite"] $WS4
assign [instance="mail.google.com"] $WS4
assign [instance="atom"] $WS5
assign [instance="www.youtube.de|www.netflix.com"] $WS6
assign [instance="calendar.google.com"] $WS7
assign [instance="termite"] $WS1
assign [window_role="^browser$"] $WS2
assign [title="ncmpcpp_termite"] $WS6



exec i3-msg workspace 1 "<span font='10' weight='light' underline='low'>3</span>" #fix workspace 1 name not applied at login (race condition?)
